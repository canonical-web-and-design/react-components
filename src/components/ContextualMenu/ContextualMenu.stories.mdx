import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs/blocks";
import { useState } from "react";

import ContextualMenu from "./ContextualMenu";

<Meta
  title="ContextualMenu"
  component={ContextualMenu}
  argTypes={{
    children: {
      control: {
        disable: true,
      },
    },
    links: {
      control: {
        disable: true,
      },
    },
  }}
/>

### Contextual Menu

This is a [React](https://reactjs.org/) component for the Vanilla [Contextual menu](https://docs.vanillaframework.io/patterns//contextual-menu/).

A contextual menu can be used in conjunction with any page element to provide a contextual menu.

### Props

<ArgsTable of={ContextualMenu} />

### Default

The contextual menu will provide a visual wrapper to any provided children. Visibility can be toggled via the `visible` prop.

<Canvas>
  <Story name="Default">
    <div className="u-align--center">
      <ContextualMenu
        closeOnOutsideClick={false}
        constrainPanelWidth={false}
        position="left"
        visible
      >
        <span style={{ padding: "1rem" }}>This is a menu.</span>
      </ContextualMenu>
    </div>
  </Story>
</Canvas>

### Toggle

<Canvas>
  <Story name="Toggle">
    <div className="u-align--center">
      <ContextualMenu
        links={[
          {
            children: "Link 1",
            onClick: () => {},
          },
          {
            children: "Link 2",
            onClick: () => {},
          },
        ]}
        hasToggleIcon
        position="right"
        toggleLabel="Click me!"
      />
    </div>
  </Story>
</Canvas>

### Dark

Set `dark` prop to `true` to use the dark theme of the contextual menu dropdown.

<Canvas>
  <Story name="Dark">
    <div className="u-align--center">
      <ContextualMenu
        closeOnOutsideClick={false}
        constrainPanelWidth={false}
        position="left"
        toggleLabel="Toggle dark menu"
        visible
        dark
      >
        <a href="#" className="p-contextual-menu__link">
          This is a menu.
        </a>
      </ContextualMenu>
    </div>
  </Story>
</Canvas>
