import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, object } from "@storybook/addon-knobs";
import { useState } from "react";
import Accordion from "./Accordion";

<Meta title="Accordion" component={Accordion} decorators={[withKnobs]} />

### Accordion

This is a [React](https://reactjs.org/) component for the Vanilla [Accordion](https://docs.vanillaframework.io/patterns/accordion/).

The sidebar accordion, used in listing pages or as navigation, can hold multiple navigation items or to be used as a filter for content.

### Props

<Props of={Accordion} />

### Default

<Preview>
  <Story name="Default">
    <Accordion
      sections={[
        {
          title: "Advanced topics",
          content: (
            <>
              <p>Charm bundles</p>
              <p>Machine authentication</p>
              <p>Migrating models</p>
              <p>Using storage</p>
              <p>Working with actions</p>
              <p>Working with resources</p>
              <p>Cloud image metadata</p>
              <p>Tools</p>
            </>
          )
        },
        {
          title: "Networking",
          content: (
            <>
              <p>Working offline</p>
              <p>Fan container networking</p>
              <p>Network spaces</p>
            </>
          )
        },
        {
          title: "Miscellaneous",
          content: (
            <>
              <p>Juju GUI</p>
              <p>CentOS support</p>
              <p>Collecting Juju metrics</p>
            </>
          )
        }
      ]}
    />
  </Story>
</Preview>

### External state

The expanded accordion section can be controlled by external state.

<Preview>
  <Story name="External state">
    {() => {
      const [expandedSection, setExpandedSection] = useState();
      return (
        <Accordion
          expanded={expandedSection}
          externallyControlled
          onExpandedChange={setExpandedSection}
          sections={[
            {
              title: "Advanced topics",
              key: "advanced-topics",
              content: (
                <>
                  <p>Charm bundles</p>
                  <p>Machine authentication</p>
                  <p>Migrating models</p>
                  <p>Using storage</p>
                  <p>Working with actions</p>
                  <p>Working with resources</p>
                  <p>Cloud image metadata</p>
                  <p>Tools</p>
                </>
              )
            },
            {
              title: "Networking",
              key: "networking",
              content: (
                <>
                  <p>Working offline</p>
                  <p>Fan container networking</p>
                  <p>Network spaces</p>
                </>
              )
            },
            {
              title: "Miscellaneous",
              key: "miscellaneous",
              content: (
                <>
                  <p>Juju GUI</p>
                  <p>CentOS support</p>
                  <p>Collecting Juju metrics</p>
                </>
              )
            }
          ]}
        />
      );
    }}
  </Story>
</Preview>


### Headings

`titleElement` prop can be used to define heading element for section titles.

<Preview>
  <Story name="Headings">
    <Accordion
      sections={[
        {
          title: "Advanced topics",
          content: (
            <>
              <p>Charm bundles</p>
              <p>Machine authentication</p>
              <p>Migrating models</p>
              <p>Using storage</p>
              <p>Working with actions</p>
              <p>Working with resources</p>
              <p>Cloud image metadata</p>
              <p>Tools</p>
            </>
          )
        },
        {
          title: "Networking",
          content: (
            <>
              <p>Working offline</p>
              <p>Fan container networking</p>
              <p>Network spaces</p>
            </>
          )
        },
        {
          title: "Miscellaneous",
          content: (
            <>
              <p>Juju GUI</p>
              <p>CentOS support</p>
              <p>Collecting Juju metrics</p>
            </>
          )
        }
      ]}
      titleElement="h3"
    />
  </Story>
</Preview>
